---
title: Baseball Park Factors
layout: base.njk
---

<div class="header">
    <div class="mascot">⚾</div>
    <h1>Park Factors</h1>
</div>

<div class="date-nav" data-last-updated="{{ parkFactors.lastUpdated }}">
    <h2>{{ parkFactors.date }}</h2>
    <p>Last Updated: {{ parkFactors.lastUpdated | timeFormat }}</p>
</div>

<div class="nav-buttons">
    <button onclick="changeView('percentage')">Model %</button>
    <button onclick="changeView('hash')">Model #</button>
    <button onclick="changeView('wind')">Wind</button>
    <button onclick="changeView('air')">Air</button>
    <button onclick="changeView('traits')">Traits</button>
    <button onclick="changeView('summary')">Summary</button>
</div>

<div class="nav-buttons">
    <button onclick="changeEffect('combined')">Combined Effect</button>
    <button onclick="changeEffect('stadium')">Stadium Only</button>
    <button onclick="changeEffect('weather')">Weather Only</button>
</div>

{% if parkFactors.error %}
<div class="error">
    <strong>⚠️ Data Error:</strong> {{ parkFactors.error }}
</div>
{% endif %}

<div class="factors-container">
    {% if parkFactors.factors.length > 0 %}
    <table class="factors-table">
        <thead>
            <tr>
                <th style="width: 30%;">Game</th>
                <th style="width: 15%;">HR</th>
                <th style="width: 15%;">2B/3B</th>
                <th style="width: 15%;">1B</th>
                <th style="width: 15%;">Runs</th>
                <th style="width: 10%;">Rating</th>
            </tr>
        </thead>
        <tbody>
            {% for factor in parkFactors.factors %}
            <tr>
                <td class="game-info">
                    <div class="team-logo"></div>
                    <strong>{{ factor.ballpark }}</strong>
                    <div class="weather-info">
                        {{ factor.temperatureRange }}°F, {{ factor.weatherCondition }}<br>
                        Wind: {{ factor.windDirection }} {{ factor.windSpeed }}mph<br>
                        <small>{{ factor.city }}, {{ factor.state }}</small>
                    </div>
                </td>
                <td class="{{ factor.hrFactor | factorClass }}">
                    {{ factor.hrFactor | percentage }}
                </td>
                <td class="{{ factor.doublesFactor | factorClass }}">
                    {{ factor.doublesFactor | percentage }}
                </td>
                <td class="{{ factor.singlesFactor | factorClass }}">
                    {{ factor.singlesFactor | percentage }}
                </td>
                <td class="{{ factor.runsFactor | factorClass }}">
                    {{ factor.runsFactor | percentage }}
                </td>
                <td>
                    <span class="rating-{{ factor.overallRating | lower | replace(' ', '-') }}">
                        {{ factor.overallRating }}
                    </span>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="loading">
        <p>⚾ Loading park factors...</p>
    </div>
    {% endif %}
</div>

<div class="footer">
    <p>Data updates hourly during baseball season</p>
    <p>Weather data from OpenWeatherMap • Historical park factors from FanGraphs</p>
</div>