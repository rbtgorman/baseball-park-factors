<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baseball Park Factors</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #8B4513 0%, #DEB887 100%);
            margin: 0;
            padding: 20px;
            color: white;
            text-align: center;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255,255,255,0.9);
            padding: 30px;
            border-radius: 15px;
            color: #333;
        }
        .mascot {
            font-size: 48px;
            margin-bottom: 20px;
        }
        .status-info {
            margin: 20px 0;
            padding: 15px;
            background: rgba(0,0,0,0.05);
            border-radius: 8px;
            text-align: left;
        }
        .api-button {
            background: #4472C4; 
            color: white; 
            padding: 10px 20px; 
            text-decoration: none; 
            border-radius: 5px;
            display: inline-block;
            margin-top: 15px;
        }
        .api-button:hover {
            background: #365a96;
        }
        .timestamp {
            font-size: 0.9em;
            color: #666;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="mascot">⚾</div>
        <h1>Baseball Park Factors</h1>
        <h2 id="current-date"></h2>
        <p class="timestamp">Last Updated: <span id="last-updated"></span></p>
        
        <div class="status-info">
            <p><strong>Site Status: Successfully Deployed!</strong></p>
            
            <!-- 
            This Baseball Park Factors application is a Python-powered web app that replicates
            the functionality of ballparkpal.com. The system uses a sophisticated data pipeline
            that combines historical MLB park factor statistics with real-time weather data to
            generate daily adjusted park factors for all 30 MLB stadiums. The Python script
            (calculate_park_factors.py) fetches weather conditions including temperature, humidity,
            wind speed and direction for each stadium location, then applies physics-based
            adjustments to account for how weather affects baseball flight. Higher temperatures
            and elevation increase home run distances, while humidity and headwinds reduce them.
            The application is deployed on Netlify using a hybrid architecture where Python
            handles the complex calculations during the build process, and JavaScript serverless
            functions serve the data via API endpoints. The frontend uses Eleventy (11ty) as a
            static site generator with custom filters for data formatting. Weather data comes
            from the OpenWeatherMap API, while historical park factors are sourced from FanGraphs
            via the pybaseball library. The site features a responsive design matching the
            original ballparkpal.com brown/tan color scheme, with real-time updates and mobile
            optimization. Future enhancements will include interactive charts, team-specific
            filtering, and historical trend analysis.
            -->
            
            <p>Python data generation: ✅ Working - Successfully processing 20 MLB stadiums with weather-adjusted calculations</p>
            <p>Netlify functions: ✅ Deployed - API endpoints active for real-time data access</p>
            <p>Next step: Add dynamic park factors display with interactive table showing HR/2B/1B/Runs factors</p>
        </div>
        
        <div style="margin-top: 30px;">
            <a href="/.netlify/functions/park-factors" class="api-button">View API Data</a>
        </div>
    </div>

    <script>
        // Function to format date in a readable format
        function formatCurrentDate() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            return now.toLocaleDateString('en-US', options);
        }

        // Function to format time for last updated
        function formatLastUpdated() {
            const now = new Date();
            const timeOptions = {
                hour: 'numeric',
                minute: '2-digit',
                hour12: true,
                timeZoneName: 'short'
            };
            return now.toLocaleString('en-US', timeOptions);
        }

        // Update the date and timestamp when page loads
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('current-date').textContent = formatCurrentDate();
            document.getElementById('last-updated').textContent = formatLastUpdated();
        });

        // Update timestamp every minute
        setInterval(function() {
            document.getElementById('last-updated').textContent = formatLastUpdated();
        }, 60000); // 60000 milliseconds = 1 minute
    </script>
</body>
</html>